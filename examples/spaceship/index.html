<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Spaceship</title>
    <script src="../../dist/game-neat.min.js"></script>
    <style>
        #game {
            cursor: none;
        }
    </style>
</head>
<body>
<h1>Spaceship</h1>

<canvas id="game" width="800" height="600"></canvas>

<script>
	const game = new Game();

	game.scene.setCanvas("#game");
	game.scene.setBackground({ backgroundUrl: "assets/space.png", verticalSpeed: 8 });
	game.scene.startRender();

	const spaceship = game.gameObjectFactory.createObject("spaceship");
	spaceship.setSprite("assets/spaceship.svg");
	spaceship.setPosition(350, 400);
	spaceship.onMouseMove(({ event: { offsetX, offsetY }, instance }) => {
		const { width, height } = instance.spriteDimensions;
        const { x, y } = instance.getPosition().interpolate({ x: offsetX - width / 2, y: offsetY }, 0.1);

        instance.setPosition(
        	x,
            y < game.scene.canvasContext.canvas.height - height && y > 0 ? y : instance.y
        );
    });

	game.gameObjectInstanceFactory.createInstance(spaceship.id);
</script>
</body>
</html>